{
    "name": "JupyterLab: Codex ACP",
    "build": {
        "dockerfile": "Dockerfile",
        "context": "../.."
    },
    // "remoteUser": "root",
    "forwardPorts": [
        8888
    ],
    "portsAttributes": {
        "8888": {
            "label": "Jupyter",
            "requireLocalPort": true
        }
    },
    "remoteEnv": {
      "GOOGLE_API_KEY": "${localEnv:GOOGLE_API_KEY}",
      "OPENAI_API_KEY": "${localEnv:OPENAI_API_KEY}",
      "DEEPSEEK_API_KEY": "${localEnv:DEEPSEEK_API_KEY}",
    },
    "secrets": {
      "GOOGLE_API_KEY": {
        "description": "Your Google API key for accessing Google services in ACP.",
        "documentationUrl": "https://docs.github.com/en/codespaces/managing-your-codespaces/managing-your-account-specific-secrets-for-github-codespaces"
      },
      "OPENAI_API_KEY": {
        "description": "Your Google API key for accessing OpenAI services in ACP.",
        "documentationUrl": "https://docs.github.com/en/codespaces/managing-your-codespaces/managing-your-account-specific-secrets-for-github-codespaces"
      },
      "DEEPSEEK_API_KEY": {
        "description": "Your DeepSeek API key for accessing Google services in ACP.",
        "documentationUrl": "https://docs.github.com/en/codespaces/managing-your-codespaces/managing-your-account-specific-secrets-for-github-codespaces"
      }
    },
    "containerEnv": {
        "JUPYTER_PORT": "8888",
        "GRANT_SUDO": "yes",
        "ACP_AGENT_COMMAND": "codex-acp",
        "ACP_AGENT_ARGS": ""
        // "RESTARTABLE": "yes"
    },
    // Codespaces ports are private by default so skip the auth token.
    // Need to disable XSRF check for Jupyter MCP servers if auth token is disabled.
    // "postStartCommand": "jupyter lab --NotebookApp.token=''  --ServerApp.disable_check_xsrf=True"
}
